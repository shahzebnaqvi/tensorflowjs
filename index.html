<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <title>Page Title</title>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.6.0/dist/tf.min.js"></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.7.1/dist/css/bootstrap.min.css" integrity="sha256-cYmZU6zsUo3sU6zPc+X9y9e1LxHxAJ/pwox/CZMxaM=" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css" >
</head>
<body>
  <div class="form-body">
    <div class="row">
        <div class="form-holder">
            <div class="form-content">
                <div class="form-items">
                    <h3>Enter Numbers</h3>
                    <p>Fill in the data below.</p>
                    <form id="myForm" onsubmit="handleSubmit(event)">

                      <div class="col-md-10">
                        <input class="form-control" type="number" name="input1" placeholder="Number 1" required>                    
                     </div>
                     <div class="col-md-10">
                        <input class="form-control" type="number" name="input2" placeholder="Number 2" required>                    
                     </div>
                     <div class="col-md-10">
                        <input class="form-control" type="number" name="input3" placeholder="Number 3" required>                    
                     </div>
                     <div class="col-md-10">
                        <input class="form-control" type="number" name="input4" placeholder="Number 4" required>                    
                     </div>
                     <div class="col-md-10">
                        <input class="form-control" type="number" name="input5" placeholder="Number 5" required>                    
                     </div>
                     <div class="col-md-10">
                        <input class="form-control" type="number" name="input6" placeholder="Number 6" required>                    
                     </div>
                     <div class="col-md-10">
                      <input class="form-control" type="number" name="input7" placeholder="Number 7" required>                    
                   </div>
                   <div class="col-md-10">
                    <input class="form-control" type="number" name="input8" placeholder="Number 8" required>                    
                 </div>
                 <div class="col-md-10">
                  <input class="form-control" type="number" name="input9" placeholder="Number 9" required>                    
               </div>
               <div class="col-md-10">
                <input class="form-control" type="number" name="input10" placeholder="Number 10" required>                    
             </div>

             <div class="form-button mt-3">
              <button id="submit" type="submit" class="btn btn-primary">Register</button>
              </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script>

// Train model with fit().

console.log("started")

// async function loadModel(){ 
//     // import * as tf from '@tensorflow/tfjs';

//     // tf.loadLayersModel( 'model/tfjs_model/model.json').then(model => { model.summary(); model.save(modelName).then(); });


// const model = await tf.loadGraphModel ('model.json'); 
// // model.predict(tf.tensor2d([ [[84.72771,69.0087,87.31507,97.27792,83.78612,96.65207,96.04027]],[[84.72771,69.0087,87.31507,97.27792,83.78612,96.65207,96.04027]]])).print();
// model.predict(tf.tensor2d([84.72771,69.0087,87.31507,97.27792,83.78612,96.65207,96.04027])).print();

// }

async function loadModel(input1,input2,input3,input4,input5,input6,input7,input8,input9,input10) {
//   const model = await tf.loadLayersModel('model.json').then(model => { model.summary(); model.save(modelName).then(); });
  // Use the model to make predictions, train it, etc.
  const model = await tf.loadLayersModel('model.json');
  model.summary(); 

//   model.predict(tf.ones([1, 600, 600, 3],[1, 600, 600, 3])).print()
const inputarray =[parseInt(input1),parseInt(input2),parseInt(input3),parseInt(input4),parseInt(input5),parseInt(input6),parseInt(input7),parseInt(input8),parseInt(input9),parseInt(input10)];
// document.write(inputarray);
const inputData = [
[inputarray, inputarray],
[inputarray, inputarray],
];
// const inputData = [
//   [[1, 2, 3, 4, 5, 6, 7, 8, 9, 10], [11, 12, 13, 14, 15, 16, 17, 18, 19, 20]],
//   [[21, 22, 23, 24, 25, 26, 27, 28, 29, 30], [31, 32, 33, 34, 35, 36, 37, 38, 39, 40]]
// ];
const inputTensor = tf.tensor3d(inputData, [2, 2, 10]);

// Use the model to make a prediction
const outputTensor = model.predict(inputTensor).print();
document.write(model.predict(inputTensor));
console.log(outputTensor.print());
// Convert the output tensor to a data array and return the result
// const outputData = await outputTensor.data();
// outputTensor.dispose();
// return outputData;
    // model.predict(([ [84.72771,69.0087,87.31507,97.27792,83.78612,96.65207,96.04027],[84.72771,69.0087,87.31507,97.27792,83.78612,96.65207,96.04027]])).print();
//   model.predict(tf.ones([[[84.72771,69.0087,87.31507,97.27792,83.78612,96.65207,96.04027]]])).print();
}
function handleSubmit(event) {
    // Prevent the form from reloading the page
    event.preventDefault();
    // Get the form element
    const form = event.target;
    // Get the input elements
    const input1 = form.elements.input1.value;
    const input2 = form.elements.input2.value;
    const input3 = form.elements.input3.value;
    const input4 = form.elements.input4.value;
    const input5 = form.elements.input5.value;
    const input6 = form.elements.input6.value;
    const input7 = form.elements.input7.value;
    const input8 = form.elements.input8.value;
    const input9 = form.elements.input9.value;
    const input10 = form.elements.input10.value;

    // Print the input values
    loadModel(input1,input2,input3,input4,input5,input6,input7,input8,input9,input10);

    // Repeat for the other input elements
  }

</script>
</body>
</html>